# RDMA Test

## Configure Inventory
Edit the `hosts` file to configure the instances under test.

## Run Benchmark
This benchmark can be run with the following command.
```
ansible-playbook -i hosts rdma.yml
```

## Validate Output
The result for each host can be found in the `output` directory.

For `a100-80gb-sxm-ib` instances, the output should match the following:
```
179.58	179.76	179.74	179.59	179.52	179.7	179.59	179.69
182.06	181.63	181.07	181.63	181.34	181.61	181.43	181.13
181.75	182.4	182.25	181.83	181.73	182.31	181.45	181.65
181.83	181.84	181.65	181.49	181.44	181.54	181.64	181.4
182.9	181.6	182.09	183.04	183.4	181.66	181.68	183.5
181.71	180.95	183.13	181.72	181.93	183.84	181.33	180.51
183.82	182.84	182.47	182.06	180.49	182.35	183.62	180.75
181.11	181.73	181.5	181.36	180.85	182.39	181.5	182.23
```

For `h100-80gb-sxm-ib` instances, the output should match the following:
```
383.82	383.07	383.45	383.01	382.96	381.87	382.75	381.93
381.76	381.85	381.56	382.06	382.31	382.52	381.39	381.58
381.9	382.14	382.02	381.91	382.13	381.72	381.82	381.73
381.75	382.15	381.85	381.95	381.51	381.61	381.37	381.59
381.88	382.8	381.49	381.94	381.51	382.41	381.55	381.72
381.7	381.96	381.94	382.01	381.55	382.09	381.66	381.56
381.82	381.86	382.13	381.89	382.13	382.63	381.7	382.63
381.7	382.31	381.65	381.89	381.8	382.56	381.43	382.03
```
